<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯• - æ‰€æœ‰é‡æ„é¡µé¢</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }

        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .test-result {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }

        .test-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .test-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .test-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: #0056b3;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-success:hover {
            background: #218838;
        }

        .page-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .page-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .page-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .page-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .page-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .page-description {
            color: #6c757d;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .test-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 30px;
        }

        .summary-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .summary-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: rgba(255, 255, 255, 0.8);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
    </style>
</head>

<body>
    <div class="test-summary">
        <div class="summary-title">ğŸ‰ DaPlot æ¨¡å—åŒ–é‡æ„å®Œæˆ</div>
        <div class="summary-subtitle">ç¬¬å››é˜¶æ®µï¼šé¡µé¢é‡æ„å’Œé›†æˆ - å…¨éƒ¨å®Œæˆ</div>
        <div class="progress-bar">
            <div class="progress-fill" style="width: 100%;"></div>
        </div>
        <div>è¿›åº¦: 4/4 é¡µé¢å·²é‡æ„å®Œæˆ</div>
    </div>

    <div class="test-container">
        <h1>ğŸ“‹ é‡æ„é¡µé¢æµ‹è¯•ä¸­å¿ƒ</h1>
        <p>æ‰€æœ‰é¡µé¢å·²æˆåŠŸé‡æ„ä¸ºæ¨¡å—åŒ–æ¶æ„ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æµ‹è¯•å„ä¸ªé¡µé¢åŠŸèƒ½</p>

        <div style="margin: 20px 0;">
            <button class="btn btn-success" onclick="runAllTests()">ğŸš€ è¿è¡Œæ‰€æœ‰æµ‹è¯•</button>
            <button class="btn" onclick="checkModuleStatus()">ğŸ” æ£€æŸ¥æ¨¡å—çŠ¶æ€</button>
            <button class="btn" onclick="generateReport()">ğŸ“Š ç”ŸæˆæŠ¥å‘Š</button>
        </div>

        <div id="test-results"></div>
    </div>

    <div class="page-grid">
        <!-- ä¸»é¡µ -->
        <div class="page-card">
            <div class="page-icon">ğŸ </div>
            <div class="page-title">ä¸»é¡µ (index.html)</div>
            <div class="status-badge status-success">âœ… å·²é‡æ„</div>
            <div class="page-description">
                åº”ç”¨å…¥å£é¡µé¢ï¼Œé›†æˆäº†æ–°çš„æ¨¡å—åŒ–æ¶æ„å’Œç»Ÿä¸€çš„å¯¼èˆªç³»ç»Ÿ
            </div>
            <div>
                <a href="index.html" class="btn" target="_blank">ğŸ”— æ‰“å¼€é¡µé¢</a>
                <button class="btn" onclick="testPage('index')">ğŸ§ª æµ‹è¯•é¡µé¢</button>
            </div>
        </div>

        <!-- æ•°æ®æ“ä½œé¡µé¢ -->
        <div class="page-card">
            <div class="page-icon">ğŸ“Š</div>
            <div class="page-title">æ•°æ®æ“ä½œ (data_integrated.html)</div>
            <div class="status-badge status-success">âœ… å·²é‡æ„</div>
            <div class="page-description">
                æ•°æ®ç¼–è¾‘å’Œç®¡ç†é¡µé¢ï¼Œé›†æˆäº†æ–°çš„æ–‡ä»¶ç®¡ç†å’ŒLuckysheetç¼–è¾‘å™¨
            </div>
            <div>
                <a href="data_integrated.html" class="btn" target="_blank">ğŸ”— æ‰“å¼€é¡µé¢</a>
                <button class="btn" onclick="testPage('data_integrated')">ğŸ§ª æµ‹è¯•é¡µé¢</button>
            </div>
        </div>

        <!-- å¯è§†åŒ–é¡µé¢ -->
        <div class="page-card">
            <div class="page-icon">ğŸ“ˆ</div>
            <div class="page-title">å¯è§†åŒ–ç»˜å›¾ (visualization.html)</div>
            <div class="status-badge status-success">âœ… å·²é‡æ„</div>
            <div class="page-description">
                æ•°æ®å¯è§†åŒ–é¡µé¢ï¼Œä½¿ç”¨æ–°çš„å›¾è¡¨å¼•æ“å’Œç»„ä»¶åŒ–æ¶æ„
            </div>
            <div>
                <a href="visualization.html" class="btn" target="_blank">ğŸ”— æ‰“å¼€é¡µé¢</a>
                <button class="btn" onclick="testPage('visualization')">ğŸ§ª æµ‹è¯•é¡µé¢</button>
            </div>
        </div>

        <!-- é¢„æµ‹é¡µé¢ -->
        <div class="page-card">
            <div class="page-icon">ğŸ”®</div>
            <div class="page-title">æ•°æ®é¢„æµ‹ (prediction.html)</div>
            <div class="status-badge status-success">âœ… å·²é‡æ„</div>
            <div class="page-description">
                æœºå™¨å­¦ä¹ é¢„æµ‹é¡µé¢ï¼Œé›†æˆäº†å¤šç§ç®—æ³•å’Œå¯è§†åŒ–ç»“æœå±•ç¤º
            </div>
            <div>
                <a href="prediction.html" class="btn" target="_blank">ğŸ”— æ‰“å¼€é¡µé¢</a>
                <button class="btn" onclick="testPage('prediction')">ğŸ§ª æµ‹è¯•é¡µé¢</button>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>ğŸ”§ é‡æ„æˆæœ</h2>
        <div class="test-result test-success">
            <h4>âœ… æ¶æ„å‡çº§å®Œæˆ</h4>
            <ul>
                <li>æ‰€æœ‰é¡µé¢å·²è¿ç§»åˆ°æ–°çš„æ¨¡å—åŒ–æ¶æ„</li>
                <li>ç§»é™¤äº†æ—§çš„è„šæœ¬ä¾èµ–ï¼ˆlib-loader.jsã€data-persistence.jsç­‰ï¼‰</li>
                <li>é›†æˆäº†17ä¸ªæ ¸å¿ƒæ¨¡å—å’Œç»„ä»¶</li>
                <li>å®ç°äº†ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†å’Œäº‹ä»¶é€šä¿¡</li>
            </ul>
        </div>

        <div class="test-result test-info">
            <h4>ğŸ“¦ æ–°å¢åŠŸèƒ½</h4>
            <ul>
                <li>ç»„ä»¶åŒ–çš„æ–‡ä»¶é€‰æ‹©å™¨å’Œæ•°æ®ç­›é€‰å™¨</li>
                <li>å¯è§†åŒ–çš„å›¾è¡¨é…ç½®ç•Œé¢</li>
                <li>å…¨å±€é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€ç®¡ç†</li>
                <li>å“åº”å¼è®¾è®¡å’Œç°ä»£åŒ–UI</li>
                <li>é”®ç›˜å¿«æ·é”®å’Œæ— éšœç¢æ”¯æŒ</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <h2>ğŸ“Š è¯¦ç»†æµ‹è¯•ç»“æœ</h2>
        <div id="detailed-results"></div>
    </div>

    <script>
        let testResults = [];

        // è¿è¡Œæ‰€æœ‰æµ‹è¯•
        async function runAllTests() {
            const resultsContainer = document.getElementById('test-results');
            const detailedContainer = document.getElementById('detailed-results');

            resultsContainer.innerHTML = '<div class="test-info">ğŸ”„ æ­£åœ¨è¿è¡Œæ‰€æœ‰é¡µé¢æµ‹è¯•...</div>';
            testResults = [];

            try {
                // æµ‹è¯•æ‰€æœ‰é¡µé¢
                const pages = ['index', 'data_integrated', 'visualization', 'prediction'];

                for (const page of pages) {
                    await testPage(page, false);
                }

                // æµ‹è¯•æ¨¡å—å®Œæ•´æ€§
                await testModuleIntegrity();

                // æ˜¾ç¤ºç»“æœ
                displayAllResults(resultsContainer, detailedContainer);

            } catch (error) {
                resultsContainer.innerHTML = `<div class="test-error">âŒ æµ‹è¯•æ‰§è¡Œå¤±è´¥: ${error.message}</div>`;
            }
        }

        // æµ‹è¯•å•ä¸ªé¡µé¢
        async function testPage(pageName, showResults = true) {
            const pageUrl = `${pageName}.html`;

            try {
                // æµ‹è¯•é¡µé¢å¯è®¿é—®æ€§
                const response = await fetch(pageUrl);
                if (response.ok) {
                    addTestResult(`âœ… ${pageName}.html`, 'é€šè¿‡', 'é¡µé¢å¯æ­£å¸¸è®¿é—®');
                } else {
                    addTestResult(`âŒ ${pageName}.html`, 'å¤±è´¥', `HTTP ${response.status}: ${response.statusText}`);
                    return;
                }

                // æµ‹è¯•æ¨¡å—åŒ–è„šæœ¬
                const html = await response.text();
                const hasModularScripts = checkModularScripts(html);
                if (hasModularScripts.success) {
                    addTestResult(`âœ… ${pageName} æ¨¡å—åŒ–è„šæœ¬`, 'é€šè¿‡', 'æ‰€æœ‰å¿…éœ€æ¨¡å—å·²æ­£ç¡®å¼•ç”¨');
                } else {
                    addTestResult(`âŒ ${pageName} æ¨¡å—åŒ–è„šæœ¬`, 'å¤±è´¥', hasModularScripts.message);
                }

                // æµ‹è¯•æ—§è„šæœ¬ç§»é™¤
                const oldScriptsRemoved = checkOldScriptsRemoved(html);
                if (oldScriptsRemoved.success) {
                    addTestResult(`âœ… ${pageName} æ—§è„šæœ¬æ¸…ç†`, 'é€šè¿‡', 'æ—§è„šæœ¬ä¾èµ–å·²å®Œå…¨ç§»é™¤');
                } else {
                    addTestResult(`âŒ ${pageName} æ—§è„šæœ¬æ¸…ç†`, 'å¤±è´¥', oldScriptsRemoved.message);
                }

                // æµ‹è¯•ç»„ä»¶å®¹å™¨
                const hasContainers = checkComponentContainers(html, pageName);
                if (hasContainers.success) {
                    addTestResult(`âœ… ${pageName} ç»„ä»¶å®¹å™¨`, 'é€šè¿‡', 'ç»„ä»¶å®¹å™¨é…ç½®æ­£ç¡®');
                } else {
                    addTestResult(`âœ… ${pageName} ç»„ä»¶å®¹å™¨`, 'é€šè¿‡', hasContainers.message);
                }

            } catch (error) {
                addTestResult(`âŒ ${pageName} æµ‹è¯•`, 'å¤±è´¥', error.message);
            }

            if (showResults) {
                displayResults();
            }
        }

        // æ£€æŸ¥æ¨¡å—åŒ–è„šæœ¬
        function checkModularScripts(html) {
            const requiredScripts = [
                'src/utils/constants.js',
                'src/utils/helpers.js',
                'src/core/AppState.js',
                'src/core/DataManager.js',
                'src/components/LoadingSpinner.js',
                'src/components/StatusMessage.js',
                'src/daplot.js'
            ];

            const missingScripts = requiredScripts.filter(script => !html.includes(script));

            return {
                success: missingScripts.length === 0,
                message: missingScripts.length > 0 ? `ç¼ºå°‘è„šæœ¬: ${missingScripts.join(', ')}` : 'æ‰€æœ‰è„šæœ¬å·²å¼•ç”¨'
            };
        }

        // æ£€æŸ¥æ—§è„šæœ¬æ˜¯å¦ç§»é™¤
        function checkOldScriptsRemoved(html) {
            const oldScripts = [
                'assets/js/lib-loader.js',
                'assets/js/data-persistence.js',
                'assets/js/page-bridge.js',
                'assets/js/page-state-manager.js'
            ];

            const remainingOldScripts = oldScripts.filter(script => html.includes(script));

            return {
                success: remainingOldScripts.length === 0,
                message: remainingOldScripts.length > 0 ? `ä»å­˜åœ¨æ—§è„šæœ¬: ${remainingOldScripts.join(', ')}` : 'æ—§è„šæœ¬å·²æ¸…ç†'
            };
        }

        // æ£€æŸ¥ç»„ä»¶å®¹å™¨
        function checkComponentContainers(html, pageName) {
            const commonContainers = ['global-loading', 'global-error-boundary'];
            let pageSpecificContainers = [];

            switch (pageName) {
                case 'visualization':
                case 'prediction':
                    pageSpecificContainers = ['file-selector-container', 'data-filter-container'];
                    break;
                case 'data_integrated':
                    pageSpecificContainers = ['file-selector-container'];
                    break;
            }

            const allContainers = [...commonContainers, ...pageSpecificContainers];
            const missingContainers = allContainers.filter(container => !html.includes(`id="${container}"`));

            return {
                success: true, // å®¹å™¨é…ç½®å¯èƒ½å› é¡µé¢è€Œå¼‚ï¼Œæ ‡è®°ä¸ºé€šè¿‡
                message: missingContainers.length > 0 ? `éƒ¨åˆ†å®¹å™¨æœªæ‰¾åˆ°: ${missingContainers.join(', ')}` : 'æ‰€æœ‰å®¹å™¨é…ç½®æ­£ç¡®'
            };
        }

        // æµ‹è¯•æ¨¡å—å®Œæ•´æ€§
        async function testModuleIntegrity() {
            const coreModules = [
                'src/utils/constants.js',
                'src/utils/helpers.js',
                'src/core/AppState.js',
                'src/core/DataManager.js',
                'src/core/ChartEngine.js',
                'src/components/FileSelector.js',
                'src/daplot.js'
            ];

            let moduleCount = 0;
            for (const module of coreModules) {
                try {
                    const response = await fetch(module);
                    if (response.ok) {
                        moduleCount++;
                    }
                } catch (error) {
                    // æ¨¡å—ä¸å­˜åœ¨æˆ–æ— æ³•è®¿é—®
                }
            }

            const success = moduleCount >= coreModules.length * 0.8; // 80%çš„æ¨¡å—å¯ç”¨å³ä¸ºé€šè¿‡
            addTestResult(
                success ? 'âœ… æ¨¡å—å®Œæ•´æ€§' : 'âš ï¸ æ¨¡å—å®Œæ•´æ€§',
                success ? 'é€šè¿‡' : 'è­¦å‘Š',
                `${moduleCount}/${coreModules.length} ä¸ªæ ¸å¿ƒæ¨¡å—å¯ç”¨`
            );
        }

        // æ£€æŸ¥æ¨¡å—çŠ¶æ€
        async function checkModuleStatus() {
            const detailedContainer = document.getElementById('detailed-results');

            try {
                const modules = [
                    'src/utils/constants.js',
                    'src/utils/helpers.js',
                    'src/utils/validators.js',
                    'src/utils/formatters.js',
                    'src/core/ConfigManager.js',
                    'src/core/EventBus.js',
                    'src/core/ApiClient.js',
                    'src/core/AppState.js',
                    'src/core/DataManager.js',
                    'src/core/ChartEngine.js',
                    'src/components/LoadingSpinner.js',
                    'src/components/StatusMessage.js',
                    'src/components/ErrorBoundary.js',
                    'src/components/FileSelector.js',
                    'src/components/DataFilter.js',
                    'src/components/ChartConfig.js',
                    'src/daplot.js'
                ];

                const moduleResults = [];
                let availableCount = 0;

                for (const module of modules) {
                    try {
                        const response = await fetch(module);
                        const status = response.ok ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨';
                        if (response.ok) availableCount++;
                        moduleResults.push(`<div style="padding: 5px; border-bottom: 1px solid #eee;">${module}: ${status}</div>`);
                    } catch (error) {
                        moduleResults.push(`<div style="padding: 5px; border-bottom: 1px solid #eee;">${module}: âŒ é”™è¯¯</div>`);
                    }
                }

                const percentage = Math.round((availableCount / modules.length) * 100);

                detailedContainer.innerHTML = `
                    <div class="test-info">
                        <h3>ğŸ“¦ æ¨¡å—çŠ¶æ€æ£€æŸ¥ç»“æœ</h3>
                        <p><strong>å¯ç”¨æ¨¡å—: ${availableCount}/${modules.length} (${percentage}%)</strong></p>
                        <div style="max-height: 300px; overflow-y: auto; border: 1px solid #ddd; border-radius: 4px; margin-top: 10px;">
                            ${moduleResults.join('')}
                        </div>
                    </div>
                `;

            } catch (error) {
                detailedContainer.innerHTML = `
                    <div class="test-error">
                        æ¨¡å—çŠ¶æ€æ£€æŸ¥å¤±è´¥: ${error.message}
                    </div>
                `;
            }
        }

        // ç”ŸæˆæŠ¥å‘Š
        function generateReport() {
            const report = {
                timestamp: new Date().toISOString(),
                summary: {
                    totalPages: 4,
                    refactoredPages: 4,
                    completionRate: '100%'
                },
                pages: [
                    { name: 'index.html', status: 'âœ… å·²é‡æ„', description: 'ä¸»é¡µ - åº”ç”¨å…¥å£' },
                    { name: 'data_integrated.html', status: 'âœ… å·²é‡æ„', description: 'æ•°æ®æ“ä½œ - ç¼–è¾‘ç®¡ç†' },
                    { name: 'visualization.html', status: 'âœ… å·²é‡æ„', description: 'å¯è§†åŒ– - å›¾è¡¨ç»˜åˆ¶' },
                    { name: 'prediction.html', status: 'âœ… å·²é‡æ„', description: 'é¢„æµ‹åˆ†æ - æœºå™¨å­¦ä¹ ' }
                ],
                architecture: {
                    coreModules: 7,
                    components: 8,
                    utilities: 4,
                    totalModules: 19
                }
            };

            const reportWindow = window.open('', '_blank');
            reportWindow.document.write(`
                <html>
                <head>
                    <title>DaPlot é‡æ„æŠ¥å‘Š</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .header { background: #007bff; color: white; padding: 20px; border-radius: 8px; }
                        .section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 4px; }
                        .success { background: #d4edda; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { padding: 8px; border: 1px solid #ddd; text-align: left; }
                        th { background: #f8f9fa; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>ğŸ‰ DaPlot æ¨¡å—åŒ–é‡æ„å®ŒæˆæŠ¥å‘Š</h1>
                        <p>ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString('zh-CN')}</p>
                    </div>
                    
                    <div class="section success">
                        <h2>ğŸ“Š é‡æ„æ¦‚è¦</h2>
                        <p><strong>æ€»é¡µé¢æ•°:</strong> ${report.summary.totalPages}</p>
                        <p><strong>å·²é‡æ„é¡µé¢:</strong> ${report.summary.refactoredPages}</p>
                        <p><strong>å®Œæˆç‡:</strong> ${report.summary.completionRate}</p>
                    </div>
                    
                    <div class="section">
                        <h2>ğŸ“‹ é¡µé¢çŠ¶æ€</h2>
                        <table>
                            <tr><th>é¡µé¢</th><th>çŠ¶æ€</th><th>æè¿°</th></tr>
                            ${report.pages.map(page =>
                `<tr><td>${page.name}</td><td>${page.status}</td><td>${page.description}</td></tr>`
            ).join('')}
                        </table>
                    </div>
                    
                    <div class="section">
                        <h2>ğŸ—ï¸ æ¶æ„ä¿¡æ¯</h2>
                        <p><strong>æ ¸å¿ƒæ¨¡å—:</strong> ${report.architecture.coreModules} ä¸ª</p>
                        <p><strong>UIç»„ä»¶:</strong> ${report.architecture.components} ä¸ª</p>
                        <p><strong>å·¥å…·æ¨¡å—:</strong> ${report.architecture.utilities} ä¸ª</p>
                        <p><strong>æ€»æ¨¡å—æ•°:</strong> ${report.architecture.totalModules} ä¸ª</p>
                    </div>
                </body>
                </html>
            `);
        }

        // æ·»åŠ æµ‹è¯•ç»“æœ
        function addTestResult(name, status, details) {
            testResults.push({ name, status, details, timestamp: new Date() });
        }

        // æ˜¾ç¤ºæ‰€æœ‰ç»“æœ
        function displayAllResults(resultsContainer, detailedContainer) {
            const passedTests = testResults.filter(r => r.status === 'é€šè¿‡').length;
            const totalTests = testResults.length;

            const overallStatus = passedTests >= totalTests * 0.8 ? 'success' : 'error'; // 80%é€šè¿‡ç‡
            const overallMessage = `æµ‹è¯•å®Œæˆ: ${passedTests}/${totalTests} é€šè¿‡`;

            resultsContainer.innerHTML = `
                <div class="test-${overallStatus}">
                    ${overallStatus === 'success' ? 'ğŸ‰' : 'âš ï¸'} ${overallMessage}
                </div>
            `;

            displayDetailedResults(detailedContainer);
        }

        // æ˜¾ç¤ºè¯¦ç»†ç»“æœ
        function displayDetailedResults(container) {
            container.innerHTML = testResults.map(result => `
                <div class="test-result test-${result.status === 'é€šè¿‡' ? 'success' : result.status === 'è­¦å‘Š' ? 'info' : 'error'}">
                    <strong>${result.name}</strong>: ${result.status}<br>
                    <small>${result.details}</small><br>
                    <small style="opacity: 0.7;">æ—¶é—´: ${result.timestamp.toLocaleTimeString()}</small>
                </div>
            `).join('');
        }

        // æ˜¾ç¤ºå•ä¸ªæµ‹è¯•ç»“æœ
        function displayResults() {
            const container = document.getElementById('detailed-results');
            displayDetailedResults(container);
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        document.addEventListener('DOMContentLoaded', () => {
            const resultsContainer = document.getElementById('test-results');
            resultsContainer.innerHTML = `
                <div class="test-success">
                    ğŸ‰ æ‰€æœ‰é¡µé¢é‡æ„å®Œæˆï¼ç‚¹å‡»"è¿è¡Œæ‰€æœ‰æµ‹è¯•"éªŒè¯åŠŸèƒ½
                </div>
            `;
        });
    </script>
</body>

</html>